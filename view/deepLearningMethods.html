<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
    font-family: "Lato", sans-serif;
}

.sidenav {
    height: 93%;
    width: 200px;
    position: fixed;
    
    top: 48px;
    left: 0;
    background-color: rgba(100, 100, 100, 0.3);
    overflow-x: hidden;
    padding-top: 20px;

}

.sidenav a {
    padding: 6px 8px 6px 16px;
    text-decoration: none;
    font-size: 25px;
    color: black;
    display: block;
}
.sidenav label {
    padding: 6px 8px 6px 16px;
    text-decoration: none;
    font-size: 25px;
    color: black;
    display: block;
}
.sidenav option {
    padding: 6px 8px 6px 16px;
    text-decoration: none;
    font-size: 25px;
    color: black;
    display: block;
}


.sidenav a:hover {
    color: #f1f1f1;
}

.main {
    margin-left: 200px; /* Same as the width of the sidenav */
    font-size: 28px; /* Increased text to enable scrolling */
    padding: 0px 10px;
}

@media screen and (max-height: 450px) {
    .sidenav {padding-top: 15px;}
    .sidenav a {font-size: 18px;}
}

form {
  margin: 0 auto;
  width: 1400px;
  padding: 1em;
  border: 1px solid #CCC;
  border-radius: 1em;
}

  fieldset {
  margin-left: 0;
  width: 750px;
  padding: 1em;
  border: 1px solid #CCC;
  border-radius: 1em;
}

form div + div {
  margin-top: 1em;
}

label {
  display: inline-block;
  text-align: center;
}

input, textarea {
  vertical-align: top;
  font: 1em sans-serif;
  width: 300px;
  box-sizing: border-box;
  border: 1px solid #999;
}

input:focus, textarea:focus {
  border-color: #000;
}

textarea {
  vertical-align: top;
  height: 10em;
  width: 40em;
}

button {
  margin-left: .5em;
}


</style>
</head>
<body>

<div class="sidenav">
  
                  <select class="tagSelected" name="interested" style="padding: 6px 8px 6px 16px;background-color: rgba(100, 100, 100, 0);" >
                  
                  <option class="tag All" value="All">All</option>
                  <?php
                      $praetor = new Praetor();
                      $sql = "SELECT tagName FROM tag GROUP BY tagName";
                      $selectedTag = $_GET['tag'];
                      $data = $praetor->custosql($sql, array());

                      foreach ($data as $key => $value) {
                      if ($value['tagName'] == $selectedTag)
                      {
                          echo '<option class="tag '.$value['tagName'].'" value="'.$value['tagName'].'" selected>'.$value['tagName'].'</option>';
                      }
                      else
                      {
                          echo '<option class="tag '.$value['tagName'].'" value="'.$value['tagName'].'" >'.$value['tagName'].'</option>';
                      }
                          
                      }
                      
                  ?>
                </select>
                <input type="hidden" class="showAbbre" value="<?php echo $_GET['abbre'];?>">
                <div class="list">

</div>
</div>

<div class="main">
  
 </div>
     
</body>
</html> 

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> 
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <script type="text/javascript"> var jQuery_1_5_1 = $.noConflict(true); </script>
  <!--for search select-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
<script>
    $(document).ready(function(){
      $(".main").empty();
          $.ajax({
          type: "POST",
          url: "model/showContent.php",
          data: "abbre="+$(".showAbbre").val(),
          restful:true,
          cache:false,
          success: function(data){
            $(".main").append(data);
          },
          error: function (error) {
            alert('error');
          }
          
        });
      
      $(".list").empty();
          $.ajax({
          type: "POST",
          url: "model/showList.php",
          data: "tagName="+$(".tagSelected").val(),
          restful:true,
          cache:false,
          success: function(data){
            $(".list").append(data);
          },
          error: function (error) {
            alert('error');
          }
          
        });
    })
    $(".tagSelected").change(function (){
          $(".list").empty();
          $.ajax({
          type: "POST",
          url: "model/showList.php",
          data: "tagName="+$(".tagSelected").val(),
          restful:true,
          cache:false,
          success: function(data){
            $(".list").append(data);
          },
          error: function (error) {
            alert('error');
          }
          
        });
      });

    jQuery_1_5_1('.title').live('mouseover mouseout',function(event){
      if (event.type == "mouseover"){
      $('#tt').remove(); // remove any tagit div first
      $('.main').append('<label id="tt" style="background-color:#ffffdf;">'+$(this).attr('abbre')+'</label>');
      $('#tt').offset({top:event.pageY,left:event.pageX+100});
      $('#tagname').focus();
      }else if(event.type =="mouseout"){
        $('#tt').remove();
      }
    });
    
    </script>
